{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.File = exports.Link = exports.Node = exports.SEP = void 0;\nvar process_1 = require(\"./process\");\nvar buffer_1 = require(\"./internal/buffer\");\nvar constants_1 = require(\"./constants\");\nvar events_1 = require(\"events\");\nvar Stats_1 = require(\"./Stats\");\nvar S_IFMT = constants_1.constants.S_IFMT,\n  S_IFDIR = constants_1.constants.S_IFDIR,\n  S_IFREG = constants_1.constants.S_IFREG,\n  S_IFLNK = constants_1.constants.S_IFLNK,\n  O_APPEND = constants_1.constants.O_APPEND;\nvar getuid = function () {\n  var _a, _b;\n  return (_b = (_a = process_1.default.getuid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0;\n};\nvar getgid = function () {\n  var _a, _b;\n  return (_b = (_a = process_1.default.getgid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0;\n};\nexports.SEP = '/';\n/**\n * Node in a file system (like i-node, v-node).\n */\nvar Node = /** @class */function (_super) {\n  __extends(Node, _super);\n  function Node(ino, perm) {\n    if (perm === void 0) {\n      perm = 438;\n    }\n    var _this = _super.call(this) || this;\n    // User ID and group ID.\n    _this.uid = getuid();\n    _this.gid = getgid();\n    _this.atime = new Date();\n    _this.mtime = new Date();\n    _this.ctime = new Date();\n    _this.perm = 438; // Permissions `chmod`, `fchmod`\n    _this.mode = S_IFREG; // S_IFDIR, S_IFREG, etc.. (file by default?)\n    // Number of hard links pointing at this Node.\n    _this.nlink = 1;\n    _this.perm = perm;\n    _this.mode |= perm;\n    _this.ino = ino;\n    return _this;\n  }\n  Node.prototype.getString = function (encoding) {\n    if (encoding === void 0) {\n      encoding = 'utf8';\n    }\n    return this.getBuffer().toString(encoding);\n  };\n  Node.prototype.setString = function (str) {\n    // this.setBuffer(bufferFrom(str, 'utf8'));\n    this.buf = (0, buffer_1.bufferFrom)(str, 'utf8');\n    this.touch();\n  };\n  Node.prototype.getBuffer = function () {\n    if (!this.buf) this.setBuffer((0, buffer_1.bufferAllocUnsafe)(0));\n    return (0, buffer_1.bufferFrom)(this.buf); // Return a copy.\n  };\n\n  Node.prototype.setBuffer = function (buf) {\n    this.buf = (0, buffer_1.bufferFrom)(buf); // Creates a copy of data.\n    this.touch();\n  };\n  Node.prototype.getSize = function () {\n    return this.buf ? this.buf.length : 0;\n  };\n  Node.prototype.setModeProperty = function (property) {\n    this.mode = this.mode & ~S_IFMT | property;\n  };\n  Node.prototype.setIsFile = function () {\n    this.setModeProperty(S_IFREG);\n  };\n  Node.prototype.setIsDirectory = function () {\n    this.setModeProperty(S_IFDIR);\n  };\n  Node.prototype.setIsSymlink = function () {\n    this.setModeProperty(S_IFLNK);\n  };\n  Node.prototype.isFile = function () {\n    return (this.mode & S_IFMT) === S_IFREG;\n  };\n  Node.prototype.isDirectory = function () {\n    return (this.mode & S_IFMT) === S_IFDIR;\n  };\n  Node.prototype.isSymlink = function () {\n    // return !!this.symlink;\n    return (this.mode & S_IFMT) === S_IFLNK;\n  };\n  Node.prototype.makeSymlink = function (steps) {\n    this.symlink = steps;\n    this.setIsSymlink();\n  };\n  Node.prototype.write = function (buf, off, len, pos) {\n    if (off === void 0) {\n      off = 0;\n    }\n    if (len === void 0) {\n      len = buf.length;\n    }\n    if (pos === void 0) {\n      pos = 0;\n    }\n    if (!this.buf) this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n    if (pos + len > this.buf.length) {\n      var newBuf = (0, buffer_1.bufferAllocUnsafe)(pos + len);\n      this.buf.copy(newBuf, 0, 0, this.buf.length);\n      this.buf = newBuf;\n    }\n    buf.copy(this.buf, pos, off, off + len);\n    this.touch();\n    return len;\n  };\n  // Returns the number of bytes read.\n  Node.prototype.read = function (buf, off, len, pos) {\n    if (off === void 0) {\n      off = 0;\n    }\n    if (len === void 0) {\n      len = buf.byteLength;\n    }\n    if (pos === void 0) {\n      pos = 0;\n    }\n    if (!this.buf) this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n    var actualLen = len;\n    if (actualLen > buf.byteLength) {\n      actualLen = buf.byteLength;\n    }\n    if (actualLen + pos > this.buf.length) {\n      actualLen = this.buf.length - pos;\n    }\n    this.buf.copy(buf, off, pos, pos + actualLen);\n    return actualLen;\n  };\n  Node.prototype.truncate = function (len) {\n    if (len === void 0) {\n      len = 0;\n    }\n    if (!len) this.buf = (0, buffer_1.bufferAllocUnsafe)(0);else {\n      if (!this.buf) this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n      if (len <= this.buf.length) {\n        this.buf = this.buf.slice(0, len);\n      } else {\n        var buf = (0, buffer_1.bufferAllocUnsafe)(len);\n        this.buf.copy(buf);\n        buf.fill(0, this.buf.length);\n        this.buf = buf;\n      }\n    }\n    this.touch();\n  };\n  Node.prototype.chmod = function (perm) {\n    this.perm = perm;\n    this.mode = this.mode & ~511 | perm;\n    this.touch();\n  };\n  Node.prototype.chown = function (uid, gid) {\n    this.uid = uid;\n    this.gid = gid;\n    this.touch();\n  };\n  Node.prototype.touch = function () {\n    this.mtime = new Date();\n    this.emit('change', this);\n  };\n  Node.prototype.canRead = function (uid, gid) {\n    if (uid === void 0) {\n      uid = getuid();\n    }\n    if (gid === void 0) {\n      gid = getgid();\n    }\n    if (this.perm & 4 /* S.IROTH */) {\n      return true;\n    }\n    if (gid === this.gid) {\n      if (this.perm & 32 /* S.IRGRP */) {\n        return true;\n      }\n    }\n    if (uid === this.uid) {\n      if (this.perm & 256 /* S.IRUSR */) {\n        return true;\n      }\n    }\n    return false;\n  };\n  Node.prototype.canWrite = function (uid, gid) {\n    if (uid === void 0) {\n      uid = getuid();\n    }\n    if (gid === void 0) {\n      gid = getgid();\n    }\n    if (this.perm & 2 /* S.IWOTH */) {\n      return true;\n    }\n    if (gid === this.gid) {\n      if (this.perm & 16 /* S.IWGRP */) {\n        return true;\n      }\n    }\n    if (uid === this.uid) {\n      if (this.perm & 128 /* S.IWUSR */) {\n        return true;\n      }\n    }\n    return false;\n  };\n  Node.prototype.del = function () {\n    this.emit('delete', this);\n  };\n  Node.prototype.toJSON = function () {\n    return {\n      ino: this.ino,\n      uid: this.uid,\n      gid: this.gid,\n      atime: this.atime.getTime(),\n      mtime: this.mtime.getTime(),\n      ctime: this.ctime.getTime(),\n      perm: this.perm,\n      mode: this.mode,\n      nlink: this.nlink,\n      symlink: this.symlink,\n      data: this.getString()\n    };\n  };\n  return Node;\n}(events_1.EventEmitter);\nexports.Node = Node;\n/**\n * Represents a hard link that points to an i-node `node`.\n */\nvar Link = /** @class */function (_super) {\n  __extends(Link, _super);\n  function Link(vol, parent, name) {\n    var _this = _super.call(this) || this;\n    _this.children = {};\n    // Path to this node as Array: ['usr', 'bin', 'node'].\n    _this._steps = [];\n    // \"i-node\" number of the node.\n    _this.ino = 0;\n    // Number of children.\n    _this.length = 0;\n    _this.vol = vol;\n    _this.parent = parent;\n    _this.name = name;\n    _this.syncSteps();\n    return _this;\n  }\n  Object.defineProperty(Link.prototype, \"steps\", {\n    get: function () {\n      return this._steps;\n    },\n    // Recursively sync children steps, e.g. in case of dir rename\n    set: function (val) {\n      this._steps = val;\n      for (var _i = 0, _a = Object.values(this.children); _i < _a.length; _i++) {\n        var child = _a[_i];\n        child === null || child === void 0 ? void 0 : child.syncSteps();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Link.prototype.setNode = function (node) {\n    this.node = node;\n    this.ino = node.ino;\n  };\n  Link.prototype.getNode = function () {\n    return this.node;\n  };\n  Link.prototype.createChild = function (name, node) {\n    if (node === void 0) {\n      node = this.vol.createNode();\n    }\n    var link = new Link(this.vol, this, name);\n    link.setNode(node);\n    if (node.isDirectory()) {\n      // link.setChild('.', link);\n      // link.getNode().nlink++;\n      // link.setChild('..', this);\n      // this.getNode().nlink++;\n    }\n    this.setChild(name, link);\n    return link;\n  };\n  Link.prototype.setChild = function (name, link) {\n    if (link === void 0) {\n      link = new Link(this.vol, this, name);\n    }\n    this.children[name] = link;\n    link.parent = this;\n    this.length++;\n    this.emit('child:add', link, this);\n    return link;\n  };\n  Link.prototype.deleteChild = function (link) {\n    delete this.children[link.getName()];\n    this.length--;\n    this.emit('child:delete', link, this);\n  };\n  Link.prototype.getChild = function (name) {\n    if (Object.hasOwnProperty.call(this.children, name)) {\n      return this.children[name];\n    }\n  };\n  Link.prototype.getPath = function () {\n    return this.steps.join(exports.SEP);\n  };\n  Link.prototype.getName = function () {\n    return this.steps[this.steps.length - 1];\n  };\n  // del() {\n  //     const parent = this.parent;\n  //     if(parent) {\n  //         parent.deleteChild(link);\n  //     }\n  //     this.parent = null;\n  //     this.vol = null;\n  // }\n  /**\n   * Walk the tree path and return the `Link` at that location, if any.\n   * @param steps {string[]} Desired location.\n   * @param stop {number} Max steps to go into.\n   * @param i {number} Current step in the `steps` array.\n   *\n   * @return {Link|null}\n   */\n  Link.prototype.walk = function (steps, stop, i) {\n    if (stop === void 0) {\n      stop = steps.length;\n    }\n    if (i === void 0) {\n      i = 0;\n    }\n    if (i >= steps.length) return this;\n    if (i >= stop) return this;\n    var step = steps[i];\n    var link = this.getChild(step);\n    if (!link) return null;\n    return link.walk(steps, stop, i + 1);\n  };\n  Link.prototype.toJSON = function () {\n    return {\n      steps: this.steps,\n      ino: this.ino,\n      children: Object.keys(this.children)\n    };\n  };\n  Link.prototype.syncSteps = function () {\n    this.steps = this.parent ? this.parent.steps.concat([this.name]) : [this.name];\n  };\n  return Link;\n}(events_1.EventEmitter);\nexports.Link = Link;\n/**\n * Represents an open file (file descriptor) that points to a `Link` (Hard-link) and a `Node`.\n */\nvar File = /** @class */function () {\n  /**\n   * Open a Link-Node pair. `node` is provided separately as that might be a different node\n   * rather the one `link` points to, because it might be a symlink.\n   * @param link\n   * @param node\n   * @param flags\n   * @param fd\n   */\n  function File(link, node, flags, fd) {\n    /**\n     * A cursor/offset position in a file, where data will be written on write.\n     * User can \"seek\" this position.\n     */\n    this.position = 0;\n    this.link = link;\n    this.node = node;\n    this.flags = flags;\n    this.fd = fd;\n  }\n  File.prototype.getString = function (encoding) {\n    if (encoding === void 0) {\n      encoding = 'utf8';\n    }\n    return this.node.getString();\n  };\n  File.prototype.setString = function (str) {\n    this.node.setString(str);\n  };\n  File.prototype.getBuffer = function () {\n    return this.node.getBuffer();\n  };\n  File.prototype.setBuffer = function (buf) {\n    this.node.setBuffer(buf);\n  };\n  File.prototype.getSize = function () {\n    return this.node.getSize();\n  };\n  File.prototype.truncate = function (len) {\n    this.node.truncate(len);\n  };\n  File.prototype.seekTo = function (position) {\n    this.position = position;\n  };\n  File.prototype.stats = function () {\n    return Stats_1.default.build(this.node);\n  };\n  File.prototype.write = function (buf, offset, length, position) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = buf.length;\n    }\n    if (typeof position !== 'number') position = this.position;\n    if (this.flags & O_APPEND) position = this.getSize();\n    var bytes = this.node.write(buf, offset, length, position);\n    this.position = position + bytes;\n    return bytes;\n  };\n  File.prototype.read = function (buf, offset, length, position) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n    if (length === void 0) {\n      length = buf.byteLength;\n    }\n    if (typeof position !== 'number') position = this.position;\n    var bytes = this.node.read(buf, offset, length, position);\n    this.position = position + bytes;\n    return bytes;\n  };\n  File.prototype.chmod = function (perm) {\n    this.node.chmod(perm);\n  };\n  File.prototype.chown = function (uid, gid) {\n    this.node.chown(uid, gid);\n  };\n  return File;\n}();\nexports.File = File;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","File","Link","Node","SEP","process_1","require","buffer_1","constants_1","events_1","Stats_1","S_IFMT","constants","S_IFDIR","S_IFREG","S_IFLNK","O_APPEND","getuid","_a","_b","default","getgid","_super","ino","perm","_this","uid","gid","atime","Date","mtime","ctime","mode","nlink","getString","encoding","getBuffer","toString","setString","str","buf","bufferFrom","touch","setBuffer","bufferAllocUnsafe","getSize","length","setModeProperty","property","setIsFile","setIsDirectory","setIsSymlink","isFile","isDirectory","isSymlink","makeSymlink","steps","symlink","write","off","len","pos","newBuf","copy","read","byteLength","actualLen","truncate","slice","fill","chmod","chown","emit","canRead","canWrite","del","toJSON","getTime","data","EventEmitter","vol","parent","name","children","_steps","syncSteps","get","set","val","_i","values","child","enumerable","configurable","setNode","node","getNode","createChild","createNode","link","setChild","deleteChild","getName","getChild","getPath","join","walk","stop","i","step","keys","concat","flags","fd","position","seekTo","stats","build","offset","bytes"],"sources":["/Users/mohdkamleh/Desktop/Breadcrumbs/breadcrumbs/node_modules/memfs/lib/node.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.File = exports.Link = exports.Node = exports.SEP = void 0;\nvar process_1 = require(\"./process\");\nvar buffer_1 = require(\"./internal/buffer\");\nvar constants_1 = require(\"./constants\");\nvar events_1 = require(\"events\");\nvar Stats_1 = require(\"./Stats\");\nvar S_IFMT = constants_1.constants.S_IFMT, S_IFDIR = constants_1.constants.S_IFDIR, S_IFREG = constants_1.constants.S_IFREG, S_IFLNK = constants_1.constants.S_IFLNK, O_APPEND = constants_1.constants.O_APPEND;\nvar getuid = function () { var _a, _b; return (_b = (_a = process_1.default.getuid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0; };\nvar getgid = function () { var _a, _b; return (_b = (_a = process_1.default.getgid) === null || _a === void 0 ? void 0 : _a.call(process_1.default)) !== null && _b !== void 0 ? _b : 0; };\nexports.SEP = '/';\n/**\n * Node in a file system (like i-node, v-node).\n */\nvar Node = /** @class */ (function (_super) {\n    __extends(Node, _super);\n    function Node(ino, perm) {\n        if (perm === void 0) { perm = 438; }\n        var _this = _super.call(this) || this;\n        // User ID and group ID.\n        _this.uid = getuid();\n        _this.gid = getgid();\n        _this.atime = new Date();\n        _this.mtime = new Date();\n        _this.ctime = new Date();\n        _this.perm = 438; // Permissions `chmod`, `fchmod`\n        _this.mode = S_IFREG; // S_IFDIR, S_IFREG, etc.. (file by default?)\n        // Number of hard links pointing at this Node.\n        _this.nlink = 1;\n        _this.perm = perm;\n        _this.mode |= perm;\n        _this.ino = ino;\n        return _this;\n    }\n    Node.prototype.getString = function (encoding) {\n        if (encoding === void 0) { encoding = 'utf8'; }\n        return this.getBuffer().toString(encoding);\n    };\n    Node.prototype.setString = function (str) {\n        // this.setBuffer(bufferFrom(str, 'utf8'));\n        this.buf = (0, buffer_1.bufferFrom)(str, 'utf8');\n        this.touch();\n    };\n    Node.prototype.getBuffer = function () {\n        if (!this.buf)\n            this.setBuffer((0, buffer_1.bufferAllocUnsafe)(0));\n        return (0, buffer_1.bufferFrom)(this.buf); // Return a copy.\n    };\n    Node.prototype.setBuffer = function (buf) {\n        this.buf = (0, buffer_1.bufferFrom)(buf); // Creates a copy of data.\n        this.touch();\n    };\n    Node.prototype.getSize = function () {\n        return this.buf ? this.buf.length : 0;\n    };\n    Node.prototype.setModeProperty = function (property) {\n        this.mode = (this.mode & ~S_IFMT) | property;\n    };\n    Node.prototype.setIsFile = function () {\n        this.setModeProperty(S_IFREG);\n    };\n    Node.prototype.setIsDirectory = function () {\n        this.setModeProperty(S_IFDIR);\n    };\n    Node.prototype.setIsSymlink = function () {\n        this.setModeProperty(S_IFLNK);\n    };\n    Node.prototype.isFile = function () {\n        return (this.mode & S_IFMT) === S_IFREG;\n    };\n    Node.prototype.isDirectory = function () {\n        return (this.mode & S_IFMT) === S_IFDIR;\n    };\n    Node.prototype.isSymlink = function () {\n        // return !!this.symlink;\n        return (this.mode & S_IFMT) === S_IFLNK;\n    };\n    Node.prototype.makeSymlink = function (steps) {\n        this.symlink = steps;\n        this.setIsSymlink();\n    };\n    Node.prototype.write = function (buf, off, len, pos) {\n        if (off === void 0) { off = 0; }\n        if (len === void 0) { len = buf.length; }\n        if (pos === void 0) { pos = 0; }\n        if (!this.buf)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        if (pos + len > this.buf.length) {\n            var newBuf = (0, buffer_1.bufferAllocUnsafe)(pos + len);\n            this.buf.copy(newBuf, 0, 0, this.buf.length);\n            this.buf = newBuf;\n        }\n        buf.copy(this.buf, pos, off, off + len);\n        this.touch();\n        return len;\n    };\n    // Returns the number of bytes read.\n    Node.prototype.read = function (buf, off, len, pos) {\n        if (off === void 0) { off = 0; }\n        if (len === void 0) { len = buf.byteLength; }\n        if (pos === void 0) { pos = 0; }\n        if (!this.buf)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        var actualLen = len;\n        if (actualLen > buf.byteLength) {\n            actualLen = buf.byteLength;\n        }\n        if (actualLen + pos > this.buf.length) {\n            actualLen = this.buf.length - pos;\n        }\n        this.buf.copy(buf, off, pos, pos + actualLen);\n        return actualLen;\n    };\n    Node.prototype.truncate = function (len) {\n        if (len === void 0) { len = 0; }\n        if (!len)\n            this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n        else {\n            if (!this.buf)\n                this.buf = (0, buffer_1.bufferAllocUnsafe)(0);\n            if (len <= this.buf.length) {\n                this.buf = this.buf.slice(0, len);\n            }\n            else {\n                var buf = (0, buffer_1.bufferAllocUnsafe)(len);\n                this.buf.copy(buf);\n                buf.fill(0, this.buf.length);\n                this.buf = buf;\n            }\n        }\n        this.touch();\n    };\n    Node.prototype.chmod = function (perm) {\n        this.perm = perm;\n        this.mode = (this.mode & ~511) | perm;\n        this.touch();\n    };\n    Node.prototype.chown = function (uid, gid) {\n        this.uid = uid;\n        this.gid = gid;\n        this.touch();\n    };\n    Node.prototype.touch = function () {\n        this.mtime = new Date();\n        this.emit('change', this);\n    };\n    Node.prototype.canRead = function (uid, gid) {\n        if (uid === void 0) { uid = getuid(); }\n        if (gid === void 0) { gid = getgid(); }\n        if (this.perm & 4 /* S.IROTH */) {\n            return true;\n        }\n        if (gid === this.gid) {\n            if (this.perm & 32 /* S.IRGRP */) {\n                return true;\n            }\n        }\n        if (uid === this.uid) {\n            if (this.perm & 256 /* S.IRUSR */) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Node.prototype.canWrite = function (uid, gid) {\n        if (uid === void 0) { uid = getuid(); }\n        if (gid === void 0) { gid = getgid(); }\n        if (this.perm & 2 /* S.IWOTH */) {\n            return true;\n        }\n        if (gid === this.gid) {\n            if (this.perm & 16 /* S.IWGRP */) {\n                return true;\n            }\n        }\n        if (uid === this.uid) {\n            if (this.perm & 128 /* S.IWUSR */) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Node.prototype.del = function () {\n        this.emit('delete', this);\n    };\n    Node.prototype.toJSON = function () {\n        return {\n            ino: this.ino,\n            uid: this.uid,\n            gid: this.gid,\n            atime: this.atime.getTime(),\n            mtime: this.mtime.getTime(),\n            ctime: this.ctime.getTime(),\n            perm: this.perm,\n            mode: this.mode,\n            nlink: this.nlink,\n            symlink: this.symlink,\n            data: this.getString(),\n        };\n    };\n    return Node;\n}(events_1.EventEmitter));\nexports.Node = Node;\n/**\n * Represents a hard link that points to an i-node `node`.\n */\nvar Link = /** @class */ (function (_super) {\n    __extends(Link, _super);\n    function Link(vol, parent, name) {\n        var _this = _super.call(this) || this;\n        _this.children = {};\n        // Path to this node as Array: ['usr', 'bin', 'node'].\n        _this._steps = [];\n        // \"i-node\" number of the node.\n        _this.ino = 0;\n        // Number of children.\n        _this.length = 0;\n        _this.vol = vol;\n        _this.parent = parent;\n        _this.name = name;\n        _this.syncSteps();\n        return _this;\n    }\n    Object.defineProperty(Link.prototype, \"steps\", {\n        get: function () {\n            return this._steps;\n        },\n        // Recursively sync children steps, e.g. in case of dir rename\n        set: function (val) {\n            this._steps = val;\n            for (var _i = 0, _a = Object.values(this.children); _i < _a.length; _i++) {\n                var child = _a[_i];\n                child === null || child === void 0 ? void 0 : child.syncSteps();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Link.prototype.setNode = function (node) {\n        this.node = node;\n        this.ino = node.ino;\n    };\n    Link.prototype.getNode = function () {\n        return this.node;\n    };\n    Link.prototype.createChild = function (name, node) {\n        if (node === void 0) { node = this.vol.createNode(); }\n        var link = new Link(this.vol, this, name);\n        link.setNode(node);\n        if (node.isDirectory()) {\n            // link.setChild('.', link);\n            // link.getNode().nlink++;\n            // link.setChild('..', this);\n            // this.getNode().nlink++;\n        }\n        this.setChild(name, link);\n        return link;\n    };\n    Link.prototype.setChild = function (name, link) {\n        if (link === void 0) { link = new Link(this.vol, this, name); }\n        this.children[name] = link;\n        link.parent = this;\n        this.length++;\n        this.emit('child:add', link, this);\n        return link;\n    };\n    Link.prototype.deleteChild = function (link) {\n        delete this.children[link.getName()];\n        this.length--;\n        this.emit('child:delete', link, this);\n    };\n    Link.prototype.getChild = function (name) {\n        if (Object.hasOwnProperty.call(this.children, name)) {\n            return this.children[name];\n        }\n    };\n    Link.prototype.getPath = function () {\n        return this.steps.join(exports.SEP);\n    };\n    Link.prototype.getName = function () {\n        return this.steps[this.steps.length - 1];\n    };\n    // del() {\n    //     const parent = this.parent;\n    //     if(parent) {\n    //         parent.deleteChild(link);\n    //     }\n    //     this.parent = null;\n    //     this.vol = null;\n    // }\n    /**\n     * Walk the tree path and return the `Link` at that location, if any.\n     * @param steps {string[]} Desired location.\n     * @param stop {number} Max steps to go into.\n     * @param i {number} Current step in the `steps` array.\n     *\n     * @return {Link|null}\n     */\n    Link.prototype.walk = function (steps, stop, i) {\n        if (stop === void 0) { stop = steps.length; }\n        if (i === void 0) { i = 0; }\n        if (i >= steps.length)\n            return this;\n        if (i >= stop)\n            return this;\n        var step = steps[i];\n        var link = this.getChild(step);\n        if (!link)\n            return null;\n        return link.walk(steps, stop, i + 1);\n    };\n    Link.prototype.toJSON = function () {\n        return {\n            steps: this.steps,\n            ino: this.ino,\n            children: Object.keys(this.children),\n        };\n    };\n    Link.prototype.syncSteps = function () {\n        this.steps = this.parent ? this.parent.steps.concat([this.name]) : [this.name];\n    };\n    return Link;\n}(events_1.EventEmitter));\nexports.Link = Link;\n/**\n * Represents an open file (file descriptor) that points to a `Link` (Hard-link) and a `Node`.\n */\nvar File = /** @class */ (function () {\n    /**\n     * Open a Link-Node pair. `node` is provided separately as that might be a different node\n     * rather the one `link` points to, because it might be a symlink.\n     * @param link\n     * @param node\n     * @param flags\n     * @param fd\n     */\n    function File(link, node, flags, fd) {\n        /**\n         * A cursor/offset position in a file, where data will be written on write.\n         * User can \"seek\" this position.\n         */\n        this.position = 0;\n        this.link = link;\n        this.node = node;\n        this.flags = flags;\n        this.fd = fd;\n    }\n    File.prototype.getString = function (encoding) {\n        if (encoding === void 0) { encoding = 'utf8'; }\n        return this.node.getString();\n    };\n    File.prototype.setString = function (str) {\n        this.node.setString(str);\n    };\n    File.prototype.getBuffer = function () {\n        return this.node.getBuffer();\n    };\n    File.prototype.setBuffer = function (buf) {\n        this.node.setBuffer(buf);\n    };\n    File.prototype.getSize = function () {\n        return this.node.getSize();\n    };\n    File.prototype.truncate = function (len) {\n        this.node.truncate(len);\n    };\n    File.prototype.seekTo = function (position) {\n        this.position = position;\n    };\n    File.prototype.stats = function () {\n        return Stats_1.default.build(this.node);\n    };\n    File.prototype.write = function (buf, offset, length, position) {\n        if (offset === void 0) { offset = 0; }\n        if (length === void 0) { length = buf.length; }\n        if (typeof position !== 'number')\n            position = this.position;\n        if (this.flags & O_APPEND)\n            position = this.getSize();\n        var bytes = this.node.write(buf, offset, length, position);\n        this.position = position + bytes;\n        return bytes;\n    };\n    File.prototype.read = function (buf, offset, length, position) {\n        if (offset === void 0) { offset = 0; }\n        if (length === void 0) { length = buf.byteLength; }\n        if (typeof position !== 'number')\n            position = this.position;\n        var bytes = this.node.read(buf, offset, length, position);\n        this.position = position + bytes;\n        return bytes;\n    };\n    File.prototype.chmod = function (perm) {\n        this.node.chmod(perm);\n    };\n    File.prototype.chown = function (uid, gid) {\n        this.node.chown(uid, gid);\n    };\n    return File;\n}());\nexports.File = File;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,UAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIC,MAAM,CAACK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IACrG,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnB,IAAI,OAAOA,CAAC,KAAK,UAAU,IAAIA,CAAC,KAAK,IAAI,EACrC,MAAM,IAAIS,SAAS,CAAC,sBAAsB,GAAGC,MAAM,CAACV,CAAC,CAAC,GAAG,+BAA+B,CAAC;IAC7FF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASW,EAAE,GAAG;MAAE,IAAI,CAACC,WAAW,GAAGb,CAAC;IAAE;IACtCA,CAAC,CAACO,SAAS,GAAGN,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACY,MAAM,CAACb,CAAC,CAAC,IAAIW,EAAE,CAACL,SAAS,GAAGN,CAAC,CAACM,SAAS,EAAE,IAAIK,EAAE,EAAE,CAAC;EACxF,CAAC;AACL,CAAC,EAAG;AACJV,MAAM,CAACa,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,IAAI,GAAGF,OAAO,CAACG,IAAI,GAAGH,OAAO,CAACI,IAAI,GAAGJ,OAAO,CAACK,GAAG,GAAG,KAAK,CAAC;AACjE,IAAIC,SAAS,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,IAAIC,QAAQ,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAC3C,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAa,CAAC;AACxC,IAAIG,QAAQ,GAAGH,OAAO,CAAC,QAAQ,CAAC;AAChC,IAAII,OAAO,GAAGJ,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIK,MAAM,GAAGH,WAAW,CAACI,SAAS,CAACD,MAAM;EAAEE,OAAO,GAAGL,WAAW,CAACI,SAAS,CAACC,OAAO;EAAEC,OAAO,GAAGN,WAAW,CAACI,SAAS,CAACE,OAAO;EAAEC,OAAO,GAAGP,WAAW,CAACI,SAAS,CAACG,OAAO;EAAEC,QAAQ,GAAGR,WAAW,CAACI,SAAS,CAACI,QAAQ;AAC/M,IAAIC,MAAM,GAAG,YAAY;EAAE,IAAIC,EAAE,EAAEC,EAAE;EAAE,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGb,SAAS,CAACe,OAAO,CAACH,MAAM,MAAM,IAAI,IAAIC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC1B,IAAI,CAACa,SAAS,CAACe,OAAO,CAAC,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC;AAAE,CAAC;AAC1L,IAAIE,MAAM,GAAG,YAAY;EAAE,IAAIH,EAAE,EAAEC,EAAE;EAAE,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGb,SAAS,CAACe,OAAO,CAACC,MAAM,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC1B,IAAI,CAACa,SAAS,CAACe,OAAO,CAAC,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC;AAAE,CAAC;AAC1LpB,OAAO,CAACK,GAAG,GAAG,GAAG;AACjB;AACA;AACA;AACA,IAAID,IAAI,GAAG,aAAe,UAAUmB,MAAM,EAAE;EACxCzC,SAAS,CAACsB,IAAI,EAAEmB,MAAM,CAAC;EACvB,SAASnB,IAAI,CAACoB,GAAG,EAAEC,IAAI,EAAE;IACrB,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;MAAEA,IAAI,GAAG,GAAG;IAAE;IACnC,IAAIC,KAAK,GAAGH,MAAM,CAAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;IACrC;IACAiC,KAAK,CAACC,GAAG,GAAGT,MAAM,EAAE;IACpBQ,KAAK,CAACE,GAAG,GAAGN,MAAM,EAAE;IACpBI,KAAK,CAACG,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxBJ,KAAK,CAACK,KAAK,GAAG,IAAID,IAAI,EAAE;IACxBJ,KAAK,CAACM,KAAK,GAAG,IAAIF,IAAI,EAAE;IACxBJ,KAAK,CAACD,IAAI,GAAG,GAAG,CAAC,CAAC;IAClBC,KAAK,CAACO,IAAI,GAAGlB,OAAO,CAAC,CAAC;IACtB;IACAW,KAAK,CAACQ,KAAK,GAAG,CAAC;IACfR,KAAK,CAACD,IAAI,GAAGA,IAAI;IACjBC,KAAK,CAACO,IAAI,IAAIR,IAAI;IAClBC,KAAK,CAACF,GAAG,GAAGA,GAAG;IACf,OAAOE,KAAK;EAChB;EACAtB,IAAI,CAACb,SAAS,CAAC4C,SAAS,GAAG,UAAUC,QAAQ,EAAE;IAC3C,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,MAAM;IAAE;IAC9C,OAAO,IAAI,CAACC,SAAS,EAAE,CAACC,QAAQ,CAACF,QAAQ,CAAC;EAC9C,CAAC;EACDhC,IAAI,CAACb,SAAS,CAACgD,SAAS,GAAG,UAAUC,GAAG,EAAE;IACtC;IACA,IAAI,CAACC,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACkC,UAAU,EAAEF,GAAG,EAAE,MAAM,CAAC;IAChD,IAAI,CAACG,KAAK,EAAE;EAChB,CAAC;EACDvC,IAAI,CAACb,SAAS,CAAC8C,SAAS,GAAG,YAAY;IACnC,IAAI,CAAC,IAAI,CAACI,GAAG,EACT,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC,EAAEpC,QAAQ,CAACqC,iBAAiB,EAAE,CAAC,CAAC,CAAC;IACtD,OAAO,CAAC,CAAC,EAAErC,QAAQ,CAACkC,UAAU,EAAE,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC;EAC/C,CAAC;;EACDrC,IAAI,CAACb,SAAS,CAACqD,SAAS,GAAG,UAAUH,GAAG,EAAE;IACtC,IAAI,CAACA,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACkC,UAAU,EAAED,GAAG,CAAC,CAAC,CAAC;IAC1C,IAAI,CAACE,KAAK,EAAE;EAChB,CAAC;EACDvC,IAAI,CAACb,SAAS,CAACuD,OAAO,GAAG,YAAY;IACjC,OAAO,IAAI,CAACL,GAAG,GAAG,IAAI,CAACA,GAAG,CAACM,MAAM,GAAG,CAAC;EACzC,CAAC;EACD3C,IAAI,CAACb,SAAS,CAACyD,eAAe,GAAG,UAAUC,QAAQ,EAAE;IACjD,IAAI,CAAChB,IAAI,GAAI,IAAI,CAACA,IAAI,GAAG,CAACrB,MAAM,GAAIqC,QAAQ;EAChD,CAAC;EACD7C,IAAI,CAACb,SAAS,CAAC2D,SAAS,GAAG,YAAY;IACnC,IAAI,CAACF,eAAe,CAACjC,OAAO,CAAC;EACjC,CAAC;EACDX,IAAI,CAACb,SAAS,CAAC4D,cAAc,GAAG,YAAY;IACxC,IAAI,CAACH,eAAe,CAAClC,OAAO,CAAC;EACjC,CAAC;EACDV,IAAI,CAACb,SAAS,CAAC6D,YAAY,GAAG,YAAY;IACtC,IAAI,CAACJ,eAAe,CAAChC,OAAO,CAAC;EACjC,CAAC;EACDZ,IAAI,CAACb,SAAS,CAAC8D,MAAM,GAAG,YAAY;IAChC,OAAO,CAAC,IAAI,CAACpB,IAAI,GAAGrB,MAAM,MAAMG,OAAO;EAC3C,CAAC;EACDX,IAAI,CAACb,SAAS,CAAC+D,WAAW,GAAG,YAAY;IACrC,OAAO,CAAC,IAAI,CAACrB,IAAI,GAAGrB,MAAM,MAAME,OAAO;EAC3C,CAAC;EACDV,IAAI,CAACb,SAAS,CAACgE,SAAS,GAAG,YAAY;IACnC;IACA,OAAO,CAAC,IAAI,CAACtB,IAAI,GAAGrB,MAAM,MAAMI,OAAO;EAC3C,CAAC;EACDZ,IAAI,CAACb,SAAS,CAACiE,WAAW,GAAG,UAAUC,KAAK,EAAE;IAC1C,IAAI,CAACC,OAAO,GAAGD,KAAK;IACpB,IAAI,CAACL,YAAY,EAAE;EACvB,CAAC;EACDhD,IAAI,CAACb,SAAS,CAACoE,KAAK,GAAG,UAAUlB,GAAG,EAAEmB,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE;IACjD,IAAIF,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAG,CAAC;IAAE;IAC/B,IAAIC,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGpB,GAAG,CAACM,MAAM;IAAE;IACxC,IAAIe,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAG,CAAC;IAAE;IAC/B,IAAI,CAAC,IAAI,CAACrB,GAAG,EACT,IAAI,CAACA,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACqC,iBAAiB,EAAE,CAAC,CAAC;IACjD,IAAIiB,GAAG,GAAGD,GAAG,GAAG,IAAI,CAACpB,GAAG,CAACM,MAAM,EAAE;MAC7B,IAAIgB,MAAM,GAAG,CAAC,CAAC,EAAEvD,QAAQ,CAACqC,iBAAiB,EAAEiB,GAAG,GAAGD,GAAG,CAAC;MACvD,IAAI,CAACpB,GAAG,CAACuB,IAAI,CAACD,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAACtB,GAAG,CAACM,MAAM,CAAC;MAC5C,IAAI,CAACN,GAAG,GAAGsB,MAAM;IACrB;IACAtB,GAAG,CAACuB,IAAI,CAAC,IAAI,CAACvB,GAAG,EAAEqB,GAAG,EAAEF,GAAG,EAAEA,GAAG,GAAGC,GAAG,CAAC;IACvC,IAAI,CAAClB,KAAK,EAAE;IACZ,OAAOkB,GAAG;EACd,CAAC;EACD;EACAzD,IAAI,CAACb,SAAS,CAAC0E,IAAI,GAAG,UAAUxB,GAAG,EAAEmB,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAE;IAChD,IAAIF,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAG,CAAC;IAAE;IAC/B,IAAIC,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGpB,GAAG,CAACyB,UAAU;IAAE;IAC5C,IAAIJ,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAG,CAAC;IAAE;IAC/B,IAAI,CAAC,IAAI,CAACrB,GAAG,EACT,IAAI,CAACA,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACqC,iBAAiB,EAAE,CAAC,CAAC;IACjD,IAAIsB,SAAS,GAAGN,GAAG;IACnB,IAAIM,SAAS,GAAG1B,GAAG,CAACyB,UAAU,EAAE;MAC5BC,SAAS,GAAG1B,GAAG,CAACyB,UAAU;IAC9B;IACA,IAAIC,SAAS,GAAGL,GAAG,GAAG,IAAI,CAACrB,GAAG,CAACM,MAAM,EAAE;MACnCoB,SAAS,GAAG,IAAI,CAAC1B,GAAG,CAACM,MAAM,GAAGe,GAAG;IACrC;IACA,IAAI,CAACrB,GAAG,CAACuB,IAAI,CAACvB,GAAG,EAAEmB,GAAG,EAAEE,GAAG,EAAEA,GAAG,GAAGK,SAAS,CAAC;IAC7C,OAAOA,SAAS;EACpB,CAAC;EACD/D,IAAI,CAACb,SAAS,CAAC6E,QAAQ,GAAG,UAAUP,GAAG,EAAE;IACrC,IAAIA,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAG,CAAC;IAAE;IAC/B,IAAI,CAACA,GAAG,EACJ,IAAI,CAACpB,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACqC,iBAAiB,EAAE,CAAC,CAAC,CAAC,KAC7C;MACD,IAAI,CAAC,IAAI,CAACJ,GAAG,EACT,IAAI,CAACA,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACqC,iBAAiB,EAAE,CAAC,CAAC;MACjD,IAAIgB,GAAG,IAAI,IAAI,CAACpB,GAAG,CAACM,MAAM,EAAE;QACxB,IAAI,CAACN,GAAG,GAAG,IAAI,CAACA,GAAG,CAAC4B,KAAK,CAAC,CAAC,EAAER,GAAG,CAAC;MACrC,CAAC,MACI;QACD,IAAIpB,GAAG,GAAG,CAAC,CAAC,EAAEjC,QAAQ,CAACqC,iBAAiB,EAAEgB,GAAG,CAAC;QAC9C,IAAI,CAACpB,GAAG,CAACuB,IAAI,CAACvB,GAAG,CAAC;QAClBA,GAAG,CAAC6B,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC7B,GAAG,CAACM,MAAM,CAAC;QAC5B,IAAI,CAACN,GAAG,GAAGA,GAAG;MAClB;IACJ;IACA,IAAI,CAACE,KAAK,EAAE;EAChB,CAAC;EACDvC,IAAI,CAACb,SAAS,CAACgF,KAAK,GAAG,UAAU9C,IAAI,EAAE;IACnC,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACQ,IAAI,GAAI,IAAI,CAACA,IAAI,GAAG,CAAC,GAAG,GAAIR,IAAI;IACrC,IAAI,CAACkB,KAAK,EAAE;EAChB,CAAC;EACDvC,IAAI,CAACb,SAAS,CAACiF,KAAK,GAAG,UAAU7C,GAAG,EAAEC,GAAG,EAAE;IACvC,IAAI,CAACD,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,GAAG,GAAGA,GAAG;IACd,IAAI,CAACe,KAAK,EAAE;EAChB,CAAC;EACDvC,IAAI,CAACb,SAAS,CAACoD,KAAK,GAAG,YAAY;IAC/B,IAAI,CAACZ,KAAK,GAAG,IAAID,IAAI,EAAE;IACvB,IAAI,CAAC2C,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC;EAC7B,CAAC;EACDrE,IAAI,CAACb,SAAS,CAACmF,OAAO,GAAG,UAAU/C,GAAG,EAAEC,GAAG,EAAE;IACzC,IAAID,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGT,MAAM,EAAE;IAAE;IACtC,IAAIU,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGN,MAAM,EAAE;IAAE;IACtC,IAAI,IAAI,CAACG,IAAI,GAAG,CAAC,CAAC,eAAe;MAC7B,OAAO,IAAI;IACf;IACA,IAAIG,GAAG,KAAK,IAAI,CAACA,GAAG,EAAE;MAClB,IAAI,IAAI,CAACH,IAAI,GAAG,EAAE,CAAC,eAAe;QAC9B,OAAO,IAAI;MACf;IACJ;IACA,IAAIE,GAAG,KAAK,IAAI,CAACA,GAAG,EAAE;MAClB,IAAI,IAAI,CAACF,IAAI,GAAG,GAAG,CAAC,eAAe;QAC/B,OAAO,IAAI;MACf;IACJ;IACA,OAAO,KAAK;EAChB,CAAC;EACDrB,IAAI,CAACb,SAAS,CAACoF,QAAQ,GAAG,UAAUhD,GAAG,EAAEC,GAAG,EAAE;IAC1C,IAAID,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGT,MAAM,EAAE;IAAE;IACtC,IAAIU,GAAG,KAAK,KAAK,CAAC,EAAE;MAAEA,GAAG,GAAGN,MAAM,EAAE;IAAE;IACtC,IAAI,IAAI,CAACG,IAAI,GAAG,CAAC,CAAC,eAAe;MAC7B,OAAO,IAAI;IACf;IACA,IAAIG,GAAG,KAAK,IAAI,CAACA,GAAG,EAAE;MAClB,IAAI,IAAI,CAACH,IAAI,GAAG,EAAE,CAAC,eAAe;QAC9B,OAAO,IAAI;MACf;IACJ;IACA,IAAIE,GAAG,KAAK,IAAI,CAACA,GAAG,EAAE;MAClB,IAAI,IAAI,CAACF,IAAI,GAAG,GAAG,CAAC,eAAe;QAC/B,OAAO,IAAI;MACf;IACJ;IACA,OAAO,KAAK;EAChB,CAAC;EACDrB,IAAI,CAACb,SAAS,CAACqF,GAAG,GAAG,YAAY;IAC7B,IAAI,CAACH,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC;EAC7B,CAAC;EACDrE,IAAI,CAACb,SAAS,CAACsF,MAAM,GAAG,YAAY;IAChC,OAAO;MACHrD,GAAG,EAAE,IAAI,CAACA,GAAG;MACbG,GAAG,EAAE,IAAI,CAACA,GAAG;MACbC,GAAG,EAAE,IAAI,CAACA,GAAG;MACbC,KAAK,EAAE,IAAI,CAACA,KAAK,CAACiD,OAAO,EAAE;MAC3B/C,KAAK,EAAE,IAAI,CAACA,KAAK,CAAC+C,OAAO,EAAE;MAC3B9C,KAAK,EAAE,IAAI,CAACA,KAAK,CAAC8C,OAAO,EAAE;MAC3BrD,IAAI,EAAE,IAAI,CAACA,IAAI;MACfQ,IAAI,EAAE,IAAI,CAACA,IAAI;MACfC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBwB,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBqB,IAAI,EAAE,IAAI,CAAC5C,SAAS;IACxB,CAAC;EACL,CAAC;EACD,OAAO/B,IAAI;AACf,CAAC,CAACM,QAAQ,CAACsE,YAAY,CAAE;AACzBhF,OAAO,CAACI,IAAI,GAAGA,IAAI;AACnB;AACA;AACA;AACA,IAAID,IAAI,GAAG,aAAe,UAAUoB,MAAM,EAAE;EACxCzC,SAAS,CAACqB,IAAI,EAAEoB,MAAM,CAAC;EACvB,SAASpB,IAAI,CAAC8E,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAE;IAC7B,IAAIzD,KAAK,GAAGH,MAAM,CAAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;IACrCiC,KAAK,CAAC0D,QAAQ,GAAG,CAAC,CAAC;IACnB;IACA1D,KAAK,CAAC2D,MAAM,GAAG,EAAE;IACjB;IACA3D,KAAK,CAACF,GAAG,GAAG,CAAC;IACb;IACAE,KAAK,CAACqB,MAAM,GAAG,CAAC;IAChBrB,KAAK,CAACuD,GAAG,GAAGA,GAAG;IACfvD,KAAK,CAACwD,MAAM,GAAGA,MAAM;IACrBxD,KAAK,CAACyD,IAAI,GAAGA,IAAI;IACjBzD,KAAK,CAAC4D,SAAS,EAAE;IACjB,OAAO5D,KAAK;EAChB;EACAxC,MAAM,CAACa,cAAc,CAACI,IAAI,CAACZ,SAAS,EAAE,OAAO,EAAE;IAC3CgG,GAAG,EAAE,YAAY;MACb,OAAO,IAAI,CAACF,MAAM;IACtB,CAAC;IACD;IACAG,GAAG,EAAE,UAAUC,GAAG,EAAE;MAChB,IAAI,CAACJ,MAAM,GAAGI,GAAG;MACjB,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEvE,EAAE,GAAGjC,MAAM,CAACyG,MAAM,CAAC,IAAI,CAACP,QAAQ,CAAC,EAAEM,EAAE,GAAGvE,EAAE,CAAC4B,MAAM,EAAE2C,EAAE,EAAE,EAAE;QACtE,IAAIE,KAAK,GAAGzE,EAAE,CAACuE,EAAE,CAAC;QAClBE,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,KAAK,CAACN,SAAS,EAAE;MACnE;IACJ,CAAC;IACDO,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF3F,IAAI,CAACZ,SAAS,CAACwG,OAAO,GAAG,UAAUC,IAAI,EAAE;IACrC,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACxE,GAAG,GAAGwE,IAAI,CAACxE,GAAG;EACvB,CAAC;EACDrB,IAAI,CAACZ,SAAS,CAAC0G,OAAO,GAAG,YAAY;IACjC,OAAO,IAAI,CAACD,IAAI;EACpB,CAAC;EACD7F,IAAI,CAACZ,SAAS,CAAC2G,WAAW,GAAG,UAAUf,IAAI,EAAEa,IAAI,EAAE;IAC/C,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;MAAEA,IAAI,GAAG,IAAI,CAACf,GAAG,CAACkB,UAAU,EAAE;IAAE;IACrD,IAAIC,IAAI,GAAG,IAAIjG,IAAI,CAAC,IAAI,CAAC8E,GAAG,EAAE,IAAI,EAAEE,IAAI,CAAC;IACzCiB,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC;IAClB,IAAIA,IAAI,CAAC1C,WAAW,EAAE,EAAE;MACpB;MACA;MACA;MACA;IAAA;IAEJ,IAAI,CAAC+C,QAAQ,CAAClB,IAAI,EAAEiB,IAAI,CAAC;IACzB,OAAOA,IAAI;EACf,CAAC;EACDjG,IAAI,CAACZ,SAAS,CAAC8G,QAAQ,GAAG,UAAUlB,IAAI,EAAEiB,IAAI,EAAE;IAC5C,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;MAAEA,IAAI,GAAG,IAAIjG,IAAI,CAAC,IAAI,CAAC8E,GAAG,EAAE,IAAI,EAAEE,IAAI,CAAC;IAAE;IAC9D,IAAI,CAACC,QAAQ,CAACD,IAAI,CAAC,GAAGiB,IAAI;IAC1BA,IAAI,CAAClB,MAAM,GAAG,IAAI;IAClB,IAAI,CAACnC,MAAM,EAAE;IACb,IAAI,CAAC0B,IAAI,CAAC,WAAW,EAAE2B,IAAI,EAAE,IAAI,CAAC;IAClC,OAAOA,IAAI;EACf,CAAC;EACDjG,IAAI,CAACZ,SAAS,CAAC+G,WAAW,GAAG,UAAUF,IAAI,EAAE;IACzC,OAAO,IAAI,CAAChB,QAAQ,CAACgB,IAAI,CAACG,OAAO,EAAE,CAAC;IACpC,IAAI,CAACxD,MAAM,EAAE;IACb,IAAI,CAAC0B,IAAI,CAAC,cAAc,EAAE2B,IAAI,EAAE,IAAI,CAAC;EACzC,CAAC;EACDjG,IAAI,CAACZ,SAAS,CAACiH,QAAQ,GAAG,UAAUrB,IAAI,EAAE;IACtC,IAAIjG,MAAM,CAACM,cAAc,CAACC,IAAI,CAAC,IAAI,CAAC2F,QAAQ,EAAED,IAAI,CAAC,EAAE;MACjD,OAAO,IAAI,CAACC,QAAQ,CAACD,IAAI,CAAC;IAC9B;EACJ,CAAC;EACDhF,IAAI,CAACZ,SAAS,CAACkH,OAAO,GAAG,YAAY;IACjC,OAAO,IAAI,CAAChD,KAAK,CAACiD,IAAI,CAAC1G,OAAO,CAACK,GAAG,CAAC;EACvC,CAAC;EACDF,IAAI,CAACZ,SAAS,CAACgH,OAAO,GAAG,YAAY;IACjC,OAAO,IAAI,CAAC9C,KAAK,CAAC,IAAI,CAACA,KAAK,CAACV,MAAM,GAAG,CAAC,CAAC;EAC5C,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI5C,IAAI,CAACZ,SAAS,CAACoH,IAAI,GAAG,UAAUlD,KAAK,EAAEmD,IAAI,EAAEC,CAAC,EAAE;IAC5C,IAAID,IAAI,KAAK,KAAK,CAAC,EAAE;MAAEA,IAAI,GAAGnD,KAAK,CAACV,MAAM;IAAE;IAC5C,IAAI8D,CAAC,KAAK,KAAK,CAAC,EAAE;MAAEA,CAAC,GAAG,CAAC;IAAE;IAC3B,IAAIA,CAAC,IAAIpD,KAAK,CAACV,MAAM,EACjB,OAAO,IAAI;IACf,IAAI8D,CAAC,IAAID,IAAI,EACT,OAAO,IAAI;IACf,IAAIE,IAAI,GAAGrD,KAAK,CAACoD,CAAC,CAAC;IACnB,IAAIT,IAAI,GAAG,IAAI,CAACI,QAAQ,CAACM,IAAI,CAAC;IAC9B,IAAI,CAACV,IAAI,EACL,OAAO,IAAI;IACf,OAAOA,IAAI,CAACO,IAAI,CAAClD,KAAK,EAAEmD,IAAI,EAAEC,CAAC,GAAG,CAAC,CAAC;EACxC,CAAC;EACD1G,IAAI,CAACZ,SAAS,CAACsF,MAAM,GAAG,YAAY;IAChC,OAAO;MACHpB,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBjC,GAAG,EAAE,IAAI,CAACA,GAAG;MACb4D,QAAQ,EAAElG,MAAM,CAAC6H,IAAI,CAAC,IAAI,CAAC3B,QAAQ;IACvC,CAAC;EACL,CAAC;EACDjF,IAAI,CAACZ,SAAS,CAAC+F,SAAS,GAAG,YAAY;IACnC,IAAI,CAAC7B,KAAK,GAAG,IAAI,CAACyB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACzB,KAAK,CAACuD,MAAM,CAAC,CAAC,IAAI,CAAC7B,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAACA,IAAI,CAAC;EAClF,CAAC;EACD,OAAOhF,IAAI;AACf,CAAC,CAACO,QAAQ,CAACsE,YAAY,CAAE;AACzBhF,OAAO,CAACG,IAAI,GAAGA,IAAI;AACnB;AACA;AACA;AACA,IAAID,IAAI,GAAG,aAAe,YAAY;EAClC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI,SAASA,IAAI,CAACkG,IAAI,EAAEJ,IAAI,EAAEiB,KAAK,EAAEC,EAAE,EAAE;IACjC;AACR;AACA;AACA;IACQ,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACf,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACJ,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACiB,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,EAAE,GAAGA,EAAE;EAChB;EACAhH,IAAI,CAACX,SAAS,CAAC4C,SAAS,GAAG,UAAUC,QAAQ,EAAE;IAC3C,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,MAAM;IAAE;IAC9C,OAAO,IAAI,CAAC4D,IAAI,CAAC7D,SAAS,EAAE;EAChC,CAAC;EACDjC,IAAI,CAACX,SAAS,CAACgD,SAAS,GAAG,UAAUC,GAAG,EAAE;IACtC,IAAI,CAACwD,IAAI,CAACzD,SAAS,CAACC,GAAG,CAAC;EAC5B,CAAC;EACDtC,IAAI,CAACX,SAAS,CAAC8C,SAAS,GAAG,YAAY;IACnC,OAAO,IAAI,CAAC2D,IAAI,CAAC3D,SAAS,EAAE;EAChC,CAAC;EACDnC,IAAI,CAACX,SAAS,CAACqD,SAAS,GAAG,UAAUH,GAAG,EAAE;IACtC,IAAI,CAACuD,IAAI,CAACpD,SAAS,CAACH,GAAG,CAAC;EAC5B,CAAC;EACDvC,IAAI,CAACX,SAAS,CAACuD,OAAO,GAAG,YAAY;IACjC,OAAO,IAAI,CAACkD,IAAI,CAAClD,OAAO,EAAE;EAC9B,CAAC;EACD5C,IAAI,CAACX,SAAS,CAAC6E,QAAQ,GAAG,UAAUP,GAAG,EAAE;IACrC,IAAI,CAACmC,IAAI,CAAC5B,QAAQ,CAACP,GAAG,CAAC;EAC3B,CAAC;EACD3D,IAAI,CAACX,SAAS,CAAC6H,MAAM,GAAG,UAAUD,QAAQ,EAAE;IACxC,IAAI,CAACA,QAAQ,GAAGA,QAAQ;EAC5B,CAAC;EACDjH,IAAI,CAACX,SAAS,CAAC8H,KAAK,GAAG,YAAY;IAC/B,OAAO1G,OAAO,CAACU,OAAO,CAACiG,KAAK,CAAC,IAAI,CAACtB,IAAI,CAAC;EAC3C,CAAC;EACD9F,IAAI,CAACX,SAAS,CAACoE,KAAK,GAAG,UAAUlB,GAAG,EAAE8E,MAAM,EAAExE,MAAM,EAAEoE,QAAQ,EAAE;IAC5D,IAAII,MAAM,KAAK,KAAK,CAAC,EAAE;MAAEA,MAAM,GAAG,CAAC;IAAE;IACrC,IAAIxE,MAAM,KAAK,KAAK,CAAC,EAAE;MAAEA,MAAM,GAAGN,GAAG,CAACM,MAAM;IAAE;IAC9C,IAAI,OAAOoE,QAAQ,KAAK,QAAQ,EAC5BA,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC5B,IAAI,IAAI,CAACF,KAAK,GAAGhG,QAAQ,EACrBkG,QAAQ,GAAG,IAAI,CAACrE,OAAO,EAAE;IAC7B,IAAI0E,KAAK,GAAG,IAAI,CAACxB,IAAI,CAACrC,KAAK,CAAClB,GAAG,EAAE8E,MAAM,EAAExE,MAAM,EAAEoE,QAAQ,CAAC;IAC1D,IAAI,CAACA,QAAQ,GAAGA,QAAQ,GAAGK,KAAK;IAChC,OAAOA,KAAK;EAChB,CAAC;EACDtH,IAAI,CAACX,SAAS,CAAC0E,IAAI,GAAG,UAAUxB,GAAG,EAAE8E,MAAM,EAAExE,MAAM,EAAEoE,QAAQ,EAAE;IAC3D,IAAII,MAAM,KAAK,KAAK,CAAC,EAAE;MAAEA,MAAM,GAAG,CAAC;IAAE;IACrC,IAAIxE,MAAM,KAAK,KAAK,CAAC,EAAE;MAAEA,MAAM,GAAGN,GAAG,CAACyB,UAAU;IAAE;IAClD,IAAI,OAAOiD,QAAQ,KAAK,QAAQ,EAC5BA,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC5B,IAAIK,KAAK,GAAG,IAAI,CAACxB,IAAI,CAAC/B,IAAI,CAACxB,GAAG,EAAE8E,MAAM,EAAExE,MAAM,EAAEoE,QAAQ,CAAC;IACzD,IAAI,CAACA,QAAQ,GAAGA,QAAQ,GAAGK,KAAK;IAChC,OAAOA,KAAK;EAChB,CAAC;EACDtH,IAAI,CAACX,SAAS,CAACgF,KAAK,GAAG,UAAU9C,IAAI,EAAE;IACnC,IAAI,CAACuE,IAAI,CAACzB,KAAK,CAAC9C,IAAI,CAAC;EACzB,CAAC;EACDvB,IAAI,CAACX,SAAS,CAACiF,KAAK,GAAG,UAAU7C,GAAG,EAAEC,GAAG,EAAE;IACvC,IAAI,CAACoE,IAAI,CAACxB,KAAK,CAAC7C,GAAG,EAAEC,GAAG,CAAC;EAC7B,CAAC;EACD,OAAO1B,IAAI;AACf,CAAC,EAAG;AACJF,OAAO,CAACE,IAAI,GAAGA,IAAI"},"metadata":{},"sourceType":"script","externalDependencies":[]}